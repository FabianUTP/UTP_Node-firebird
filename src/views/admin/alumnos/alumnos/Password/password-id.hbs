<section class="section">
  <div class="mb-3">
    {{>btnBack}}
  </div>



  <div class="row">
    <div class="col-lg-6">

      <section class="card text-center">
        <div class="row p-3">

          <div class="col-6">
            <div class="pt-2">
              {{#if image}}
              <img src="{{image}}" alt="foto" class="img-fluid" width="150" id="imgCurrent">
              {{else}}
              <img src="/imgs/studentIcon.png" alt="foto" class="img-fluid">
              {{/if}}
            </div>
          </div>

          <div class="col-6">
            <div class="row">

              {{!-- <div class="col-md-12">
                <h4>Fichas</h4>
                <div class="btn-group flex-wrap" role="group">
                  <a class="btn btn-outline-primary" href="/alumnos/{{MATRICULA}}/doctos">Documentos</a>
                  <a class="btn btn-outline-primary" href="/alumnos/{{MATRICULA}}/boletas">Boletas</a>
                </div>
              </div> --}}



              {{!-- <div class="col-md-12 pt-4">
                <h4>Actualizar fotografia</h4>
                <form action="/password/{{MATRICULA}}/updatePhoto" method="post" enctype="multipart/form-data">
                  <div class="btn-group">
                    <!--LA FOTOGRAFÍA PUEDE SER NO REQUERIDA-->
                    <input type="file" name="fotografia" class="form-control" accept="image/*" id="imgInput" />
                    <button class="btn" type="submit">
                      <i class="bi bi-arrow-bar-up"></i>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div> --}}
      </section>

      <form action="/password/{{MATRICULA}}/update" method="post">
        
      {{!-- TÍTULO LICENCIATURA--}}
      <div class="card">
        <div class="card-body">
          <h1 class="card-title">Cambiar contraseña</h1>

          <div class="row g-3">
            <div class="col-md-6">
              <label for="alumno_password" class="form-label">Contraseña Nueva</label>
              <input type="text" id="folio" name="alumno_password" class="form-control" placeholder="Contraseña Nueva"
                value="{{ALUMNO_PASSWORD}}" disabled>
            </div>
        </div>
      </div>


  <div class="text-center">
    <button class="btn btn-outline-primary" type="button" id="btn_act">Habilitar edición</button>
    <button class="btn btn-outline-primary d-none" type="submit" id="btn_update">Actualizar</button>
  </div>
  </form>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Función genérica para copiar valores de un campo a otros
    function copiarValor(origenId, destinoIds) {
      const origen = document.getElementById(origenId);
      if (origen) {
        origen.addEventListener("input", function () {
          destinoIds.forEach(destinoId => {
            const destino = document.getElementById(destinoId);
            if (destino) {
              destino.removeAttribute("disabled"); // Habilitar antes de modificar
              destino.value = this.value;
            }
          });
        });
      }
    }

    // Llamar la función para cada conjunto de campos (IDs corregidos)
    copiarValor("folio_cerlic", ["folio_aexlic", "folio_csslic"]);
    copiarValor("libro_cerlic", ["libro_aexlic", "libro_csslic"]);
    copiarValor("foja_cerlic", ["foja_aexlic", "foja_csslic"]);
  });
</script>



{{!-- // Ajusta las fechas --}}
<script>
  const fech_nacimiento_ini = document.getElementById("fech_nacimiento_ini");
  const fech_nacimiento = document.getElementById("fech_nacimiento");
  fech_nacimiento.value = formatDate(fech_nacimiento_ini.value);
</script>

{{!-- // Hablita todos los input para editar --}}
<script>
  const btn_act = document.getElementById("btn_act");
  const btn_update = document.getElementById("btn_update");

  btn_act.addEventListener("click", () => {
    btn_act.classList.add("d-none");
    btn_update.classList.remove("d-none");

    let inputs = document.getElementsByTagName("input");
    let selects = document.getElementsByTagName("select");
    let txtarea = document.getElementsByTagName("textarea");

    for (let i = 0; i < inputs.length; i++) {
      inputs[i].disabled = false;
    }

    for (let i = 0; i < selects.length; i++) {
      selects[i].disabled = false;
    }

    for (let i = 0; i < txtarea.length; i++) {
      txtarea[i].disabled = false;
    }

    // Manda al principio de la pagina
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  });

</script>
<script src="/js/helpers/filtraPorEstatus.js"></script>





<style>
  /* Estilos para centrar y dar más ancho al card de Fichas */
  .card-fichas {
    width: 100%;
    max-width: 1000px;
    /* Ajusta el ancho máximo según tus necesidades */
    margin: 0 auto 20px auto;
    /* Centra el card horizontalmente */
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  /* Estilos para los demás cards */
  .card {
    width: 100%;
    max-width: 1000px;
    /* Mismo ancho que el card de Fichas */
    margin: 0 auto 20px auto;
    /* Centra los cards horizontalmente */
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .card-body {
    padding: 20px;
  }

  .card-title {
    font-size: 1.5rem;
    margin-bottom: 20px;
    text-align: center;
  }

  .form-label {
    font-weight: bold;
  }

  .btn-group {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 10px;
  }

  .btn-outline-primary {
    border-color: #007bff;
    color: #007bff;
  }

  .btn-outline-primary:hover {
    background-color: #007bff;
    color: #fff;
  }

  .text-center {
    text-align: center;
  }

  .row {
    display: flex;
    flex-direction: column;
    /* Organiza los cards verticalmente */
    align-items: center;
    /* Centra los cards horizontalmente */
    gap: 20px;
  }

  .col-lg-6 {
    width: 100%;
    /* Ocupa todo el ancho disponible */
    max-width: 1000px;
    /* Mismo ancho que el card de Fichas */
  }

  @media (max-width: 768px) {

    .card-fichas,
    .card {
      max-width: 100%;
      /* Ajusta el ancho en pantallas pequeñas */
    }
  }


  /* Estilos para los botones */
  .btn-container {
    margin-top: 20px;
    /* Espacio entre el contenido y los botones */
    text-align: center;
    /* Centra los botones */
  }

  .btn-outline-primary {
    border-color: #007bff;
    color: #007bff;
    margin: 5px;
    /* Espacio entre los botones */
  }

  .btn-outline-primary:hover {
    background-color: #007bff;
    color: #fff;
  }
</style>